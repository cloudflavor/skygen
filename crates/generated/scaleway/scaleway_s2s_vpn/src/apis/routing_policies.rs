// Auto-generated by codegen - Skygen
// https://cloudflavor.io/projects/skygen
//
// Copyright 2025 Cloudflavor GmbH
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

use crate::models::scaleway_s2s_vpn_v1alpha1_list_routing_policies_response::ScalewayS2sVpnV1alpha1ListRoutingPoliciesResponse;
use crate::models::scaleway_s2s_vpn_v1alpha1_routing_policy::ScalewayS2sVpnV1alpha1RoutingPolicy;
use crate::{ApiClient, ApiRequestBuilder, ApiResult};
use reqwest::Method;

#[derive(Debug)]
pub struct ListRoutingPoliciesRequest<'a> {
    builder: ApiRequestBuilder<'a, ScalewayS2sVpnV1alpha1ListRoutingPoliciesResponse>,
}

impl<'a> ListRoutingPoliciesRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(
            api,
            Method::GET,
            "s2s-vpn/v1alpha1/regions/{region}/routing-policies",
        )
        .require_path("region");

        Self { builder }
    }
    pub fn with_region(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("region", value);
        self
    }
    pub fn with_page(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("page", value);
        self
    }
    pub fn with_page_size(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("page_size", value);
        self
    }
    pub fn with_order_by(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("order_by", value);
        self
    }
    pub fn with_project_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("project_id", value);
        self
    }
    pub fn with_name(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("name", value);
        self
    }
    pub fn with_tags(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("tags", value);
        self
    }
    pub fn with_ipv6(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("ipv6", value);
        self
    }
    pub async fn send(self) -> ApiResult<ScalewayS2sVpnV1alpha1ListRoutingPoliciesResponse> {
        self.builder.send().await
    }
}
/// List routing policies
///
/// List all routing policies in a given region. A routing policy can be attached to one or multiple connections (S2S VPN connections).
///
/// **HTTP Method:** `GET`
/// **Path:** `/s2s-vpn/v1alpha1/regions/{region}/routing-policies`
///
/// **Parameters**
/// - `region` (path, required)
/// - `page` (query,optional)
/// - `page_size` (query,optional)
/// - `order_by` (query,optional)
/// - `project_id` (query,optional)
/// - `name` (query,optional)
/// - `tags` (query,optional)
/// - `ipv6` (query,optional)
///
/// # Example
/// ```no_run
/// use sitetositevpn::{ ApiClient, apis::routing_policies };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let response = list_routing_policies(&api)
///     .with_region("region")
///     .with_page("page")
///     .with_page_size("page_size")
///     .with_order_by("order_by")
///     .with_project_id("project_id")
///     .with_name("name")
///     .with_tags("tags")
///     .with_ipv6("ipv6")
///     .send()
///     .await?;
/// ```
pub fn list_routing_policies(api: &ApiClient) -> ListRoutingPoliciesRequest<'_> {
    ListRoutingPoliciesRequest::new(api)
}

#[derive(Debug)]
pub struct CreateRoutingPolicyRequest<'a> {
    builder: ApiRequestBuilder<'a, ScalewayS2sVpnV1alpha1RoutingPolicy>,
}

impl<'a> CreateRoutingPolicyRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(
            api,
            Method::POST,
            "s2s-vpn/v1alpha1/regions/{region}/routing-policies",
        )
        .require_path("region")
        .require_body();

        Self { builder }
    }
    pub fn with_region(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("region", value);
        self
    }
    pub fn with_body(
        mut self,
        body: std::collections::BTreeMap<String, serde_json::Value>,
    ) -> Self {
        self.builder = self.builder.json_body(body).expect("body serialization");
        self
    }
    pub async fn send(self) -> ApiResult<ScalewayS2sVpnV1alpha1RoutingPolicy> {
        self.builder.send().await
    }
}
/// Create a routing policy
///
/// Create a routing policy. Routing policies allow you to set IP prefix filters to define the incoming route announcements to accept from the customer gateway, and the outgoing routes to announce to the customer gateway.
///
/// **HTTP Method:** `POST`
/// **Path:** `/s2s-vpn/v1alpha1/regions/{region}/routing-policies`
///
/// **Parameters**
/// - `region` (path, required)
///
/// # Example
/// ```no_run
/// use sitetositevpn::{ ApiClient, apis::routing_policies };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// # let body: std::collections::BTreeMap<String, serde_json::Value> = todo!();
/// let response = create_routing_policy(&api)
///     .with_region("region")
///     .with_body(body)
///     .send()
///     .await?;
/// ```
pub fn create_routing_policy(api: &ApiClient) -> CreateRoutingPolicyRequest<'_> {
    CreateRoutingPolicyRequest::new(api)
}

#[derive(Debug)]
pub struct PolicyRequest<'a> {
    builder: ApiRequestBuilder<'a, ScalewayS2sVpnV1alpha1RoutingPolicy>,
}

impl<'a> PolicyRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(
            api,
            Method::GET,
            "s2s-vpn/v1alpha1/regions/{region}/routing-policies/{routing_policy_id}",
        )
        .require_path("region")
        .require_path("routing_policy_id");

        Self { builder }
    }
    pub fn with_region(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("region", value);
        self
    }
    pub fn with_routing_policy_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("routing_policy_id", value);
        self
    }
    pub async fn send(self) -> ApiResult<ScalewayS2sVpnV1alpha1RoutingPolicy> {
        self.builder.send().await
    }
}
/// Get routing policy
///
/// Get a routing policy for the given routing policy ID. The response object gives information including the policy's name, tags and prefix filters.
///
/// **HTTP Method:** `GET`
/// **Path:** `/s2s-vpn/v1alpha1/regions/{region}/routing-policies/{routing_policy_id}`
///
/// **Parameters**
/// - `region` (path, required)
/// - `routing_policy_id` (path, required)
///
/// # Example
/// ```no_run
/// use sitetositevpn::{ ApiClient, apis::routing_policies };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let response = policy(&api)
///     .with_region("region")
///     .with_routing_policy_id("routing_policy_id")
///     .send()
///     .await?;
/// ```
pub fn policy(api: &ApiClient) -> PolicyRequest<'_> {
    PolicyRequest::new(api)
}

#[derive(Debug)]
pub struct PolicyDeleteRequest<'a> {
    builder: ApiRequestBuilder<'a, serde_json::Value>,
}

impl<'a> PolicyDeleteRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(
            api,
            Method::DELETE,
            "s2s-vpn/v1alpha1/regions/{region}/routing-policies/{routing_policy_id}",
        )
        .require_path("region")
        .require_path("routing_policy_id");

        Self { builder }
    }
    pub fn with_region(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("region", value);
        self
    }
    pub fn with_routing_policy_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("routing_policy_id", value);
        self
    }
    pub async fn send(self) -> ApiResult<serde_json::Value> {
        self.builder.send().await
    }
}
/// Delete a routing policy
///
/// Delete an existing routing policy, specified by its routing policy ID.
///
/// **HTTP Method:** `DELETE`
/// **Path:** `/s2s-vpn/v1alpha1/regions/{region}/routing-policies/{routing_policy_id}`
///
/// **Parameters**
/// - `region` (path, required)
/// - `routing_policy_id` (path, required)
///
/// # Example
/// ```no_run
/// use sitetositevpn::{ ApiClient, apis::routing_policies };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let response = policy_delete(&api)
///     .with_region("region")
///     .with_routing_policy_id("routing_policy_id")
///     .send()
///     .await?;
/// ```
pub fn policy_delete(api: &ApiClient) -> PolicyDeleteRequest<'_> {
    PolicyDeleteRequest::new(api)
}

#[derive(Debug)]
pub struct UpdateRoutingPolicyRequest<'a> {
    builder: ApiRequestBuilder<'a, ScalewayS2sVpnV1alpha1RoutingPolicy>,
}

impl<'a> UpdateRoutingPolicyRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(
            api,
            Method::PATCH,
            "s2s-vpn/v1alpha1/regions/{region}/routing-policies/{routing_policy_id}",
        )
        .require_path("region")
        .require_path("routing_policy_id")
        .require_body();

        Self { builder }
    }
    pub fn with_region(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("region", value);
        self
    }
    pub fn with_routing_policy_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("routing_policy_id", value);
        self
    }
    pub fn with_body(
        mut self,
        body: std::collections::BTreeMap<String, serde_json::Value>,
    ) -> Self {
        self.builder = self.builder.json_body(body).expect("body serialization");
        self
    }
    pub async fn send(self) -> ApiResult<ScalewayS2sVpnV1alpha1RoutingPolicy> {
        self.builder.send().await
    }
}
/// Update a routing policy
///
/// Update an existing routing policy, specified by its routing policy ID. Its name, tags and incoming/outgoing prefix filters can be updated.
///
/// **HTTP Method:** `PATCH`
/// **Path:** `/s2s-vpn/v1alpha1/regions/{region}/routing-policies/{routing_policy_id}`
///
/// **Parameters**
/// - `region` (path, required)
/// - `routing_policy_id` (path, required)
///
/// # Example
/// ```no_run
/// use sitetositevpn::{ ApiClient, apis::routing_policies };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// # let body: std::collections::BTreeMap<String, serde_json::Value> = todo!();
/// let response = update_routing_policy(&api)
///     .with_region("region")
///     .with_routing_policy_id("routing_policy_id")
///     .with_body(body)
///     .send()
///     .await?;
/// ```
pub fn update_routing_policy(api: &ApiClient) -> UpdateRoutingPolicyRequest<'_> {
    UpdateRoutingPolicyRequest::new(api)
}
