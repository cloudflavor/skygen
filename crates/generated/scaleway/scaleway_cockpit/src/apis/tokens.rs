// Auto-generated by codegen - Skygen
// https://cloudflavor.io/projects/skygen
//
// Copyright 2025 Cloudflavor GmbH
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

use crate::models::scaleway_cockpit_v1_list_tokens_response::ScalewayCockpitV1ListTokensResponse;
use crate::models::scaleway_cockpit_v1_token::ScalewayCockpitV1Token;
use crate::{ApiClient, ApiRequestBuilder, ApiResult};
use reqwest::Method;

#[derive(Debug)]
pub struct ListTokensRequest<'a> {
    builder: ApiRequestBuilder<'a, ScalewayCockpitV1ListTokensResponse>,
}

impl<'a> ListTokensRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder =
            ApiRequestBuilder::new(api, Method::GET, "cockpit/v1/regions/{region}/tokens")
                .require_path("region");

        Self { builder }
    }
    pub fn with_region(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("region", value);
        self
    }
    pub fn with_page(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("page", value);
        self
    }
    pub fn with_page_size(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("page_size", value);
        self
    }
    pub fn with_order_by(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("order_by", value);
        self
    }
    pub fn with_project_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("project_id", value);
        self
    }
    pub fn with_token_scopes(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("token_scopes", value);
        self
    }
    pub async fn send(self) -> ApiResult<ScalewayCockpitV1ListTokensResponse> {
        self.builder.send().await
    }
}
/// List tokens
///
/// Retrieve a list of all tokens in the specified region. By default, tokens returned in the list are ordered by creation date, in ascending order.
/// You can filter tokens by Project ID and token scopes.
///
/// **HTTP Method:** `GET`
/// **Path:** `/cockpit/v1/regions/{region}/tokens`
///
/// **Parameters**
/// - `region` (path, required)
/// - `page` (query,optional)
/// - `page_size` (query,optional)
/// - `order_by` (query,optional)
/// - `project_id` (query,required)
/// - `token_scopes` (query,optional)
///
/// # Example
/// ```no_run
/// use cockpit::{ ApiClient, apis::tokens };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let response = list_tokens(&api)
///     .with_region("region")
///     .with_page("page")
///     .with_page_size("page_size")
///     .with_order_by("order_by")
///     .with_project_id("project_id")
///     .with_token_scopes("token_scopes")
///     .send()
///     .await?;
/// ```
pub fn list_tokens(api: &ApiClient) -> ListTokensRequest<'_> {
    ListTokensRequest::new(api)
}

#[derive(Debug)]
pub struct CreateTokenRequest<'a> {
    builder: ApiRequestBuilder<'a, ScalewayCockpitV1Token>,
}

impl<'a> CreateTokenRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder =
            ApiRequestBuilder::new(api, Method::POST, "cockpit/v1/regions/{region}/tokens")
                .require_path("region")
                .require_body();

        Self { builder }
    }
    pub fn with_region(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("region", value);
        self
    }
    pub fn with_body(
        mut self,
        body: std::collections::BTreeMap<String, serde_json::Value>,
    ) -> Self {
        self.builder = self.builder.json_body(body).expect("body serialization");
        self
    }
    pub async fn send(self) -> ApiResult<ScalewayCockpitV1Token> {
        self.builder.send().await
    }
}
/// Create a token
///
/// Give your token the relevant scopes to ensure it has the right permissions to interact with your data sources and the Alert manager. Make sure that you create your token in the same regions as the data sources you want to use it for.
/// Upon creation, your token's secret key display only once. Make sure that you save it.
///
/// **HTTP Method:** `POST`
/// **Path:** `/cockpit/v1/regions/{region}/tokens`
///
/// **Parameters**
/// - `region` (path, required)
///
/// # Example
/// ```no_run
/// use cockpit::{ ApiClient, apis::tokens };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// # let body: std::collections::BTreeMap<String, serde_json::Value> = todo!();
/// let response = create_token(&api)
///     .with_region("region")
///     .with_body(body)
///     .send()
///     .await?;
/// ```
pub fn create_token(api: &ApiClient) -> CreateTokenRequest<'_> {
    CreateTokenRequest::new(api)
}

#[derive(Debug)]
pub struct TokenRequest<'a> {
    builder: ApiRequestBuilder<'a, ScalewayCockpitV1Token>,
}

impl<'a> TokenRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(
            api,
            Method::GET,
            "cockpit/v1/regions/{region}/tokens/{token_id}",
        )
        .require_path("region")
        .require_path("token_id");

        Self { builder }
    }
    pub fn with_region(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("region", value);
        self
    }
    pub fn with_token_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("token_id", value);
        self
    }
    pub async fn send(self) -> ApiResult<ScalewayCockpitV1Token> {
        self.builder.send().await
    }
}
/// Get a token
///
/// Retrieve information about a given token, specified by the token ID. The token's information such as its scopes, is returned.
///
/// **HTTP Method:** `GET`
/// **Path:** `/cockpit/v1/regions/{region}/tokens/{token_id}`
///
/// **Parameters**
/// - `region` (path, required)
/// - `token_id` (path, required)
///
/// # Example
/// ```no_run
/// use cockpit::{ ApiClient, apis::tokens };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let response = token(&api)
///     .with_region("region")
///     .with_token_id("token_id")
///     .send()
///     .await?;
/// ```
pub fn token(api: &ApiClient) -> TokenRequest<'_> {
    TokenRequest::new(api)
}

#[derive(Debug)]
pub struct TokenDeleteRequest<'a> {
    builder: ApiRequestBuilder<'a, serde_json::Value>,
}

impl<'a> TokenDeleteRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(
            api,
            Method::DELETE,
            "cockpit/v1/regions/{region}/tokens/{token_id}",
        )
        .require_path("region")
        .require_path("token_id");

        Self { builder }
    }
    pub fn with_region(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("region", value);
        self
    }
    pub fn with_token_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("token_id", value);
        self
    }
    pub async fn send(self) -> ApiResult<serde_json::Value> {
        self.builder.send().await
    }
}
/// Delete a token
///
/// Delete a given token, specified by the token ID. Deleting a token is irreversible and cannot be undone.
///
/// **HTTP Method:** `DELETE`
/// **Path:** `/cockpit/v1/regions/{region}/tokens/{token_id}`
///
/// **Parameters**
/// - `region` (path, required)
/// - `token_id` (path, required)
///
/// # Example
/// ```no_run
/// use cockpit::{ ApiClient, apis::tokens };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let response = token_delete(&api)
///     .with_region("region")
///     .with_token_id("token_id")
///     .send()
///     .await?;
/// ```
pub fn token_delete(api: &ApiClient) -> TokenDeleteRequest<'_> {
    TokenDeleteRequest::new(api)
}
