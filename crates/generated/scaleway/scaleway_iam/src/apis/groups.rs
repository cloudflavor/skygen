// Auto-generated by codegen - Skygen
// https://cloudflavor.io/projects/skygen
//
// Copyright 2025 Cloudflavor GmbH
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

use crate::models::scaleway_iam_v1alpha1_group::ScalewayIamV1alpha1Group;
use crate::models::scaleway_iam_v1alpha1_list_groups_response::ScalewayIamV1alpha1ListGroupsResponse;
use crate::{ApiClient, ApiRequestBuilder, ApiResult};
use reqwest::Method;

#[derive(Debug)]
pub struct ListGroupsRequest<'a> {
    builder: ApiRequestBuilder<'a, ScalewayIamV1alpha1ListGroupsResponse>,
}

impl<'a> ListGroupsRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::GET, "iam/v1alpha1/groups");

        Self { builder }
    }
    pub fn with_order_by(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("order_by", value);
        self
    }
    pub fn with_page(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("page", value);
        self
    }
    pub fn with_page_size(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("page_size", value);
        self
    }
    pub fn with_organization_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("organization_id", value);
        self
    }
    pub fn with_name(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("name", value);
        self
    }
    pub fn with_application_ids(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("application_ids", value);
        self
    }
    pub fn with_user_ids(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("user_ids", value);
        self
    }
    pub fn with_group_ids(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("group_ids", value);
        self
    }
    pub fn with_tag(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("tag", value);
        self
    }
    pub async fn send(self) -> ApiResult<ScalewayIamV1alpha1ListGroupsResponse> {
        self.builder.send().await
    }
}
/// List groups
///
/// List groups. By default, the groups listed are ordered by creation date in ascending order. This can be modified via the `order_by` field. You can define additional parameters to filter your query. Use `user_ids` or `application_ids` to list all groups certain users or applications belong to.
///
/// **HTTP Method:** `GET`
/// **Path:** `/iam/v1alpha1/groups`
///
/// **Parameters**
/// - `order_by` (query,optional)
/// - `page` (query,optional)
/// - `page_size` (query,optional)
/// - `organization_id` (query,optional)
/// - `name` (query,optional)
/// - `application_ids` (query,optional)
/// - `user_ids` (query,optional)
/// - `group_ids` (query,optional)
/// - `tag` (query,optional)
///
/// # Example
/// ```no_run
/// use iam::{ ApiClient, apis::groups };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let response = list_groups(&api)
///     .with_order_by("order_by")
///     .with_page("page")
///     .with_page_size("page_size")
///     .with_organization_id("organization_id")
///     .with_name("name")
///     .with_application_ids("application_ids")
///     .with_user_ids("user_ids")
///     .with_group_ids("group_ids")
///     .with_tag("tag")
///     .send()
///     .await?;
/// ```
pub fn list_groups(api: &ApiClient) -> ListGroupsRequest<'_> {
    ListGroupsRequest::new(api)
}

#[derive(Debug)]
pub struct CreateGroupRequest<'a> {
    builder: ApiRequestBuilder<'a, ScalewayIamV1alpha1Group>,
}

impl<'a> CreateGroupRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder =
            ApiRequestBuilder::new(api, Method::POST, "iam/v1alpha1/groups").require_body();

        Self { builder }
    }
    pub fn with_body(
        mut self,
        body: std::collections::BTreeMap<String, serde_json::Value>,
    ) -> Self {
        self.builder = self.builder.json_body(body).expect("body serialization");
        self
    }
    pub async fn send(self) -> ApiResult<ScalewayIamV1alpha1Group> {
        self.builder.send().await
    }
}
/// Create a group
///
/// Create a new group. You must define the `name` and `organization_id` parameters in the request.
///
/// **HTTP Method:** `POST`
/// **Path:** `/iam/v1alpha1/groups`
///
/// # Example
/// ```no_run
/// use iam::{ ApiClient, apis::groups };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// # let body: std::collections::BTreeMap<String, serde_json::Value> = todo!();
/// let response = create_group(&api)
///     .with_body(body)
///     .send()
///     .await?;
/// ```
pub fn create_group(api: &ApiClient) -> CreateGroupRequest<'_> {
    CreateGroupRequest::new(api)
}

#[derive(Debug)]
pub struct GroupRequest<'a> {
    builder: ApiRequestBuilder<'a, ScalewayIamV1alpha1Group>,
}

impl<'a> GroupRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::GET, "iam/v1alpha1/groups/{group_id}")
            .require_path("group_id");

        Self { builder }
    }
    pub fn with_group_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("group_id", value);
        self
    }
    pub async fn send(self) -> ApiResult<ScalewayIamV1alpha1Group> {
        self.builder.send().await
    }
}
/// Get a group
///
/// Retrieve information about a given group, specified by the `group_id` parameter. The group's full details, including `user_ids` and `application_ids` are returned in the response.
///
/// **HTTP Method:** `GET`
/// **Path:** `/iam/v1alpha1/groups/{group_id}`
///
/// **Parameters**
/// - `group_id` (path, required)
///
/// # Example
/// ```no_run
/// use iam::{ ApiClient, apis::groups };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let response = group(&api)
///     .with_group_id("group_id")
///     .send()
///     .await?;
/// ```
pub fn group(api: &ApiClient) -> GroupRequest<'_> {
    GroupRequest::new(api)
}

#[derive(Debug)]
pub struct GroupDeleteRequest<'a> {
    builder: ApiRequestBuilder<'a, serde_json::Value>,
}

impl<'a> GroupDeleteRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::DELETE, "iam/v1alpha1/groups/{group_id}")
            .require_path("group_id");

        Self { builder }
    }
    pub fn with_group_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("group_id", value);
        self
    }
    pub async fn send(self) -> ApiResult<serde_json::Value> {
        self.builder.send().await
    }
}
/// Delete a group
///
/// Delete a group. Note that this action is irreversible and could delete permissions for group members. Policies attached to users and applications via this group will no longer apply.
///
/// **HTTP Method:** `DELETE`
/// **Path:** `/iam/v1alpha1/groups/{group_id}`
///
/// **Parameters**
/// - `group_id` (path, required)
///
/// # Example
/// ```no_run
/// use iam::{ ApiClient, apis::groups };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let response = group_delete(&api)
///     .with_group_id("group_id")
///     .send()
///     .await?;
/// ```
pub fn group_delete(api: &ApiClient) -> GroupDeleteRequest<'_> {
    GroupDeleteRequest::new(api)
}

#[derive(Debug)]
pub struct UpdateGroupRequest<'a> {
    builder: ApiRequestBuilder<'a, ScalewayIamV1alpha1Group>,
}

impl<'a> UpdateGroupRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::PATCH, "iam/v1alpha1/groups/{group_id}")
            .require_path("group_id")
            .require_body();

        Self { builder }
    }
    pub fn with_group_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("group_id", value);
        self
    }
    pub fn with_body(
        mut self,
        body: std::collections::BTreeMap<String, serde_json::Value>,
    ) -> Self {
        self.builder = self.builder.json_body(body).expect("body serialization");
        self
    }
    pub async fn send(self) -> ApiResult<ScalewayIamV1alpha1Group> {
        self.builder.send().await
    }
}
/// Update a group
///
/// Update the parameters of group, including `name` and `description`.
///
/// **HTTP Method:** `PATCH`
/// **Path:** `/iam/v1alpha1/groups/{group_id}`
///
/// **Parameters**
/// - `group_id` (path, required)
///
/// # Example
/// ```no_run
/// use iam::{ ApiClient, apis::groups };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// # let body: std::collections::BTreeMap<String, serde_json::Value> = todo!();
/// let response = update_group(&api)
///     .with_group_id("group_id")
///     .with_body(body)
///     .send()
///     .await?;
/// ```
pub fn update_group(api: &ApiClient) -> UpdateGroupRequest<'_> {
    UpdateGroupRequest::new(api)
}

#[derive(Debug)]
pub struct AddGroupMemberRequest<'a> {
    builder: ApiRequestBuilder<'a, ScalewayIamV1alpha1Group>,
}

impl<'a> AddGroupMemberRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(
            api,
            Method::POST,
            "iam/v1alpha1/groups/{group_id}/add-member",
        )
        .require_path("group_id")
        .require_body();

        Self { builder }
    }
    pub fn with_group_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("group_id", value);
        self
    }
    pub fn with_body(
        mut self,
        body: std::collections::BTreeMap<String, serde_json::Value>,
    ) -> Self {
        self.builder = self.builder.json_body(body).expect("body serialization");
        self
    }
    pub async fn send(self) -> ApiResult<ScalewayIamV1alpha1Group> {
        self.builder.send().await
    }
}
/// Add a user or an application to a group
///
/// Add a user or an application to a group. You can specify a `user_id` and `application_id` in the body of your request. Note that you can only add one of each per request.
///
/// **HTTP Method:** `POST`
/// **Path:** `/iam/v1alpha1/groups/{group_id}/add-member`
///
/// **Parameters**
/// - `group_id` (path, required)
///
/// # Example
/// ```no_run
/// use iam::{ ApiClient, apis::groups };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// # let body: std::collections::BTreeMap<String, serde_json::Value> = todo!();
/// let response = add_group_member(&api)
///     .with_group_id("group_id")
///     .with_body(body)
///     .send()
///     .await?;
/// ```
pub fn add_group_member(api: &ApiClient) -> AddGroupMemberRequest<'_> {
    AddGroupMemberRequest::new(api)
}

#[derive(Debug)]
pub struct AddGroupMembersRequest<'a> {
    builder: ApiRequestBuilder<'a, ScalewayIamV1alpha1Group>,
}

impl<'a> AddGroupMembersRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(
            api,
            Method::POST,
            "iam/v1alpha1/groups/{group_id}/add-members",
        )
        .require_path("group_id")
        .require_body();

        Self { builder }
    }
    pub fn with_group_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("group_id", value);
        self
    }
    pub fn with_body(
        mut self,
        body: std::collections::BTreeMap<String, serde_json::Value>,
    ) -> Self {
        self.builder = self.builder.json_body(body).expect("body serialization");
        self
    }
    pub async fn send(self) -> ApiResult<ScalewayIamV1alpha1Group> {
        self.builder.send().await
    }
}
/// Add multiple users and applications to a group
///
/// Add multiple users and applications to a group in a single call. You can specify an array of `user_id`s and `application_id`s. Note that any existing users and applications in the group will remain. To add new users/applications and delete pre-existing ones, use the [Overwrite users and applications of a group](#path-groups-overwrite-users-and-applications-of-a-group) method.
///
/// **HTTP Method:** `POST`
/// **Path:** `/iam/v1alpha1/groups/{group_id}/add-members`
///
/// **Parameters**
/// - `group_id` (path, required)
///
/// # Example
/// ```no_run
/// use iam::{ ApiClient, apis::groups };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// # let body: std::collections::BTreeMap<String, serde_json::Value> = todo!();
/// let response = add_group_members(&api)
///     .with_group_id("group_id")
///     .with_body(body)
///     .send()
///     .await?;
/// ```
pub fn add_group_members(api: &ApiClient) -> AddGroupMembersRequest<'_> {
    AddGroupMembersRequest::new(api)
}

#[derive(Debug)]
pub struct SetGroupMembersRequest<'a> {
    builder: ApiRequestBuilder<'a, ScalewayIamV1alpha1Group>,
}

impl<'a> SetGroupMembersRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder =
            ApiRequestBuilder::new(api, Method::PUT, "iam/v1alpha1/groups/{group_id}/members")
                .require_path("group_id")
                .require_body();

        Self { builder }
    }
    pub fn with_group_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("group_id", value);
        self
    }
    pub fn with_body(
        mut self,
        body: std::collections::BTreeMap<String, serde_json::Value>,
    ) -> Self {
        self.builder = self.builder.json_body(body).expect("body serialization");
        self
    }
    pub async fn send(self) -> ApiResult<ScalewayIamV1alpha1Group> {
        self.builder.send().await
    }
}
/// Overwrite users and applications of a group
///
/// Overwrite users and applications configuration in a group. Any information that you add using this command will overwrite the previous configuration.
///
/// **HTTP Method:** `PUT`
/// **Path:** `/iam/v1alpha1/groups/{group_id}/members`
///
/// **Parameters**
/// - `group_id` (path, required)
///
/// # Example
/// ```no_run
/// use iam::{ ApiClient, apis::groups };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// # let body: std::collections::BTreeMap<String, serde_json::Value> = todo!();
/// let response = set_group_members(&api)
///     .with_group_id("group_id")
///     .with_body(body)
///     .send()
///     .await?;
/// ```
pub fn set_group_members(api: &ApiClient) -> SetGroupMembersRequest<'_> {
    SetGroupMembersRequest::new(api)
}

#[derive(Debug)]
pub struct RemoveGroupMemberRequest<'a> {
    builder: ApiRequestBuilder<'a, ScalewayIamV1alpha1Group>,
}

impl<'a> RemoveGroupMemberRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(
            api,
            Method::POST,
            "iam/v1alpha1/groups/{group_id}/remove-member",
        )
        .require_path("group_id")
        .require_body();

        Self { builder }
    }
    pub fn with_group_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("group_id", value);
        self
    }
    pub fn with_body(
        mut self,
        body: std::collections::BTreeMap<String, serde_json::Value>,
    ) -> Self {
        self.builder = self.builder.json_body(body).expect("body serialization");
        self
    }
    pub async fn send(self) -> ApiResult<ScalewayIamV1alpha1Group> {
        self.builder.send().await
    }
}
/// Remove a user or an application from a group
///
/// Remove a user or an application from a group. You can specify a `user_id` and `application_id` in the body of your request. Note that you can only remove one of each per request. Removing a user from a group means that any permissions given to them via the group (i.e. from an attached policy) will no longer apply. Be sure you want to remove these permissions from the user before proceeding.
///
/// **HTTP Method:** `POST`
/// **Path:** `/iam/v1alpha1/groups/{group_id}/remove-member`
///
/// **Parameters**
/// - `group_id` (path, required)
///
/// # Example
/// ```no_run
/// use iam::{ ApiClient, apis::groups };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// # let body: std::collections::BTreeMap<String, serde_json::Value> = todo!();
/// let response = remove_group_member(&api)
///     .with_group_id("group_id")
///     .with_body(body)
///     .send()
///     .await?;
/// ```
pub fn remove_group_member(api: &ApiClient) -> RemoveGroupMemberRequest<'_> {
    RemoveGroupMemberRequest::new(api)
}
