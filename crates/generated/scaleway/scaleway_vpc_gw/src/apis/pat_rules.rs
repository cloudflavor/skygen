// Auto-generated by codegen - Skygen
// https://cloudflavor.io/projects/skygen
//
// Copyright 2025 Cloudflavor GmbH
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

use crate::models::scaleway_vpc_gw_v2_list_pat_rules_response::ScalewayVpcGwV2ListPatRulesResponse;
use crate::models::scaleway_vpc_gw_v2_pat_rule::ScalewayVpcGwV2PatRule;
use crate::models::scaleway_vpc_gw_v2_set_pat_rules_response::ScalewayVpcGwV2SetPatRulesResponse;
use crate::{ApiClient, ApiRequestBuilder, ApiResult};
use reqwest::Method;

#[derive(Debug)]
pub struct ListPatRulesRequest<'a> {
    builder: ApiRequestBuilder<'a, ScalewayVpcGwV2ListPatRulesResponse>,
}

impl<'a> ListPatRulesRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::GET, "vpc-gw/v2/zones/{zone}/pat-rules")
            .require_path("zone");

        Self { builder }
    }
    pub fn with_zone(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("zone", value);
        self
    }
    pub fn with_order_by(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("order_by", value);
        self
    }
    pub fn with_page(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("page", value);
        self
    }
    pub fn with_page_size(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("page_size", value);
        self
    }
    pub fn with_gateway_ids(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("gateway_ids", value);
        self
    }
    pub fn with_private_ips(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("private_ips", value);
        self
    }
    pub fn with_protocol(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("protocol", value);
        self
    }
    pub async fn send(self) -> ApiResult<ScalewayVpcGwV2ListPatRulesResponse> {
        self.builder.send().await
    }
}
/// List PAT rules
///
/// List PAT rules. You can filter by gateway ID to list all PAT rules for a particular gateway, or filter for PAT rules targeting a specific IP address or using a specific protocol.
///
/// **HTTP Method:** `GET`
/// **Path:** `/vpc-gw/v2/zones/{zone}/pat-rules`
///
/// **Parameters**
/// - `zone` (path, required)
/// - `order_by` (query,optional)
/// - `page` (query,optional)
/// - `page_size` (query,optional)
/// - `gateway_ids` (query,optional)
/// - `private_ips` (query,optional)
/// - `protocol` (query,optional)
///
/// # Example
/// ```no_run
/// use publicgateways::{ ApiClient, apis::pat_rules };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let response = list_pat_rules(&api)
///     .with_zone("zone")
///     .with_order_by("order_by")
///     .with_page("page")
///     .with_page_size("page_size")
///     .with_gateway_ids("gateway_ids")
///     .with_private_ips("private_ips")
///     .with_protocol("protocol")
///     .send()
///     .await?;
/// ```
pub fn list_pat_rules(api: &ApiClient) -> ListPatRulesRequest<'_> {
    ListPatRulesRequest::new(api)
}

#[derive(Debug)]
pub struct CreatePatRuleRequest<'a> {
    builder: ApiRequestBuilder<'a, ScalewayVpcGwV2PatRule>,
}

impl<'a> CreatePatRuleRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::POST, "vpc-gw/v2/zones/{zone}/pat-rules")
            .require_path("zone")
            .require_body();

        Self { builder }
    }
    pub fn with_zone(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("zone", value);
        self
    }
    pub fn with_body(
        mut self,
        body: std::collections::BTreeMap<String, serde_json::Value>,
    ) -> Self {
        self.builder = self.builder.json_body(body).expect("body serialization");
        self
    }
    pub async fn send(self) -> ApiResult<ScalewayVpcGwV2PatRule> {
        self.builder.send().await
    }
}
/// Create a PAT rule
///
/// Create a new PAT rule on a specified Public Gateway, defining the protocol to use, public port to listen on, and private port / IP address to map to.
///
/// **HTTP Method:** `POST`
/// **Path:** `/vpc-gw/v2/zones/{zone}/pat-rules`
///
/// **Parameters**
/// - `zone` (path, required)
///
/// # Example
/// ```no_run
/// use publicgateways::{ ApiClient, apis::pat_rules };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// # let body: std::collections::BTreeMap<String, serde_json::Value> = todo!();
/// let response = create_pat_rule(&api)
///     .with_zone("zone")
///     .with_body(body)
///     .send()
///     .await?;
/// ```
pub fn create_pat_rule(api: &ApiClient) -> CreatePatRuleRequest<'_> {
    CreatePatRuleRequest::new(api)
}

#[derive(Debug)]
pub struct SetPatRulesRequest<'a> {
    builder: ApiRequestBuilder<'a, ScalewayVpcGwV2SetPatRulesResponse>,
}

impl<'a> SetPatRulesRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::PUT, "vpc-gw/v2/zones/{zone}/pat-rules")
            .require_path("zone")
            .require_body();

        Self { builder }
    }
    pub fn with_zone(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("zone", value);
        self
    }
    pub fn with_body(
        mut self,
        body: std::collections::BTreeMap<String, serde_json::Value>,
    ) -> Self {
        self.builder = self.builder.json_body(body).expect("body serialization");
        self
    }
    pub async fn send(self) -> ApiResult<ScalewayVpcGwV2SetPatRulesResponse> {
        self.builder.send().await
    }
}
/// Set all PAT rules
///
/// Set a definitive list of PAT rules attached to a Public Gateway. Each rule is identified by its public port and protocol. This will sync the current PAT rule list on the gateway with the new list, creating, updating or deleting PAT rules accordingly.
///
/// **HTTP Method:** `PUT`
/// **Path:** `/vpc-gw/v2/zones/{zone}/pat-rules`
///
/// **Parameters**
/// - `zone` (path, required)
///
/// # Example
/// ```no_run
/// use publicgateways::{ ApiClient, apis::pat_rules };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// # let body: std::collections::BTreeMap<String, serde_json::Value> = todo!();
/// let response = set_pat_rules(&api)
///     .with_zone("zone")
///     .with_body(body)
///     .send()
///     .await?;
/// ```
pub fn set_pat_rules(api: &ApiClient) -> SetPatRulesRequest<'_> {
    SetPatRulesRequest::new(api)
}

#[derive(Debug)]
pub struct RuleRequest<'a> {
    builder: ApiRequestBuilder<'a, ScalewayVpcGwV2PatRule>,
}

impl<'a> RuleRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(
            api,
            Method::GET,
            "vpc-gw/v2/zones/{zone}/pat-rules/{pat_rule_id}",
        )
        .require_path("zone")
        .require_path("pat_rule_id");

        Self { builder }
    }
    pub fn with_zone(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("zone", value);
        self
    }
    pub fn with_pat_rule_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("pat_rule_id", value);
        self
    }
    pub async fn send(self) -> ApiResult<ScalewayVpcGwV2PatRule> {
        self.builder.send().await
    }
}
/// Get a PAT rule
///
/// Get a PAT rule, specified by its PAT rule ID. The response object gives full details of the PAT rule, including the Public Gateway it belongs to and the configuration settings in terms of public / private ports, private IP and protocol.
///
/// **HTTP Method:** `GET`
/// **Path:** `/vpc-gw/v2/zones/{zone}/pat-rules/{pat_rule_id}`
///
/// **Parameters**
/// - `zone` (path, required)
/// - `pat_rule_id` (path, required)
///
/// # Example
/// ```no_run
/// use publicgateways::{ ApiClient, apis::pat_rules };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let response = rule(&api)
///     .with_zone("zone")
///     .with_pat_rule_id("pat_rule_id")
///     .send()
///     .await?;
/// ```
pub fn rule(api: &ApiClient) -> RuleRequest<'_> {
    RuleRequest::new(api)
}

#[derive(Debug)]
pub struct RuleDeleteRequest<'a> {
    builder: ApiRequestBuilder<'a, serde_json::Value>,
}

impl<'a> RuleDeleteRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(
            api,
            Method::DELETE,
            "vpc-gw/v2/zones/{zone}/pat-rules/{pat_rule_id}",
        )
        .require_path("zone")
        .require_path("pat_rule_id");

        Self { builder }
    }
    pub fn with_zone(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("zone", value);
        self
    }
    pub fn with_pat_rule_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("pat_rule_id", value);
        self
    }
    pub async fn send(self) -> ApiResult<serde_json::Value> {
        self.builder.send().await
    }
}
/// Delete a PAT rule
///
/// Delete a PAT rule, identified by its PAT rule ID. This action is irreversible.
///
/// **HTTP Method:** `DELETE`
/// **Path:** `/vpc-gw/v2/zones/{zone}/pat-rules/{pat_rule_id}`
///
/// **Parameters**
/// - `zone` (path, required)
/// - `pat_rule_id` (path, required)
///
/// # Example
/// ```no_run
/// use publicgateways::{ ApiClient, apis::pat_rules };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let response = rule_delete(&api)
///     .with_zone("zone")
///     .with_pat_rule_id("pat_rule_id")
///     .send()
///     .await?;
/// ```
pub fn rule_delete(api: &ApiClient) -> RuleDeleteRequest<'_> {
    RuleDeleteRequest::new(api)
}

#[derive(Debug)]
pub struct UpdatePatRuleRequest<'a> {
    builder: ApiRequestBuilder<'a, ScalewayVpcGwV2PatRule>,
}

impl<'a> UpdatePatRuleRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(
            api,
            Method::PATCH,
            "vpc-gw/v2/zones/{zone}/pat-rules/{pat_rule_id}",
        )
        .require_path("zone")
        .require_path("pat_rule_id")
        .require_body();

        Self { builder }
    }
    pub fn with_zone(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("zone", value);
        self
    }
    pub fn with_pat_rule_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("pat_rule_id", value);
        self
    }
    pub fn with_body(
        mut self,
        body: std::collections::BTreeMap<String, serde_json::Value>,
    ) -> Self {
        self.builder = self.builder.json_body(body).expect("body serialization");
        self
    }
    pub async fn send(self) -> ApiResult<ScalewayVpcGwV2PatRule> {
        self.builder.send().await
    }
}
/// Update a PAT rule
///
/// Update a PAT rule, specified by its PAT rule ID. Configuration settings including private/public port, private IP address and protocol can all be updated.
///
/// **HTTP Method:** `PATCH`
/// **Path:** `/vpc-gw/v2/zones/{zone}/pat-rules/{pat_rule_id}`
///
/// **Parameters**
/// - `zone` (path, required)
/// - `pat_rule_id` (path, required)
///
/// # Example
/// ```no_run
/// use publicgateways::{ ApiClient, apis::pat_rules };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// # let body: std::collections::BTreeMap<String, serde_json::Value> = todo!();
/// let response = update_pat_rule(&api)
///     .with_zone("zone")
///     .with_pat_rule_id("pat_rule_id")
///     .with_body(body)
///     .send()
///     .await?;
/// ```
pub fn update_pat_rule(api: &ApiClient) -> UpdatePatRuleRequest<'_> {
    UpdatePatRuleRequest::new(api)
}
