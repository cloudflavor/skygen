// Auto-generated by codegen - Skygen
// Cloudflavor GmbH https://cloudflavor.io/projects/skygen
//
// Copyright 2025 Cloudflavor GmbH
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

use crate::models::block_storage_snapshot::BlockStorageSnapshot;
use crate::models::block_storage_volume::BlockStorageVolume;
use crate::models::operation::Operation;
use crate::{ApiClient, ApiRequestBuilder, ApiResult};
use reqwest::Method;

#[derive(Debug)]
pub struct ListBlockStorageVolumesRequest<'a> {
    builder: ApiRequestBuilder<'a, std::collections::BTreeMap<String, serde_json::Value>>,
}

impl<'a> ListBlockStorageVolumesRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::GET, "block-storage");

        Self { builder }
    }
    pub fn with_instance_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("instance-id", value);
        self
    }
    pub async fn send(self) -> ApiResult<std::collections::BTreeMap<String, serde_json::Value>> {
        self.builder.send().await
    }
}

/// List block storage volumes
/// # Example
/// ```no_run
/// use exoscale_public_api::{ ApiClient, apis::block_storage };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let _ = list_block_storage_volumes(&api)
///     .send()
///     .await?;
/// ```
pub fn list_block_storage_volumes(api: &ApiClient) -> ListBlockStorageVolumesRequest<'_> {
    ListBlockStorageVolumesRequest::new(api)
}

#[derive(Debug)]
pub struct CreateBlockStorageVolumeRequest<'a> {
    builder: ApiRequestBuilder<'a, Operation>,
}

impl<'a> CreateBlockStorageVolumeRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::POST, "block-storage").require_body();

        Self { builder }
    }
    pub fn with_body(
        mut self,
        body: std::collections::BTreeMap<String, serde_json::Value>,
    ) -> Self {
        self.builder = self.builder.json_body(body).expect("body serialization");
        self
    }
    pub async fn send(self) -> ApiResult<Operation> {
        self.builder.send().await
    }
}

/// Create a block storage volume
/// # Example
/// ```no_run
/// use exoscale_public_api::{ ApiClient, apis::block_storage };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let _ = create_block_storage_volume(&api)
///     .send()
///     .await?;
/// ```
pub fn create_block_storage_volume(api: &ApiClient) -> CreateBlockStorageVolumeRequest<'_> {
    CreateBlockStorageVolumeRequest::new(api)
}

#[derive(Debug)]
pub struct ListBlockStorageSnapshotsRequest<'a> {
    builder: ApiRequestBuilder<'a, std::collections::BTreeMap<String, serde_json::Value>>,
}

impl<'a> ListBlockStorageSnapshotsRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::GET, "block-storage-snapshot");

        Self { builder }
    }
    pub async fn send(self) -> ApiResult<std::collections::BTreeMap<String, serde_json::Value>> {
        self.builder.send().await
    }
}

/// List block storage snapshots
/// # Example
/// ```no_run
/// use exoscale_public_api::{ ApiClient, apis::block_storage };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let _ = list_block_storage_snapshots(&api)
///     .send()
///     .await?;
/// ```
pub fn list_block_storage_snapshots(api: &ApiClient) -> ListBlockStorageSnapshotsRequest<'_> {
    ListBlockStorageSnapshotsRequest::new(api)
}

#[derive(Debug)]
pub struct SnapshotRequest<'a> {
    builder: ApiRequestBuilder<'a, BlockStorageSnapshot>,
}

impl<'a> SnapshotRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::GET, "block-storage-snapshot/{id}")
            .require_path("id");

        Self { builder }
    }
    pub fn with_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("id", value);
        self
    }
    pub async fn send(self) -> ApiResult<BlockStorageSnapshot> {
        self.builder.send().await
    }
}

/// Retrieve block storage snapshot details
/// # Example
/// ```no_run
/// use exoscale_public_api::{ ApiClient, apis::block_storage };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let _ = snapshot(&api)
///     .with_id("value")
///     .send()
///     .await?;
/// ```
pub fn snapshot(api: &ApiClient) -> SnapshotRequest<'_> {
    SnapshotRequest::new(api)
}

#[derive(Debug)]
pub struct UpdateBlockStorageSnapshotRequest<'a> {
    builder: ApiRequestBuilder<'a, Operation>,
}

impl<'a> UpdateBlockStorageSnapshotRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::PUT, "block-storage-snapshot/{id}")
            .require_path("id")
            .require_body();

        Self { builder }
    }
    pub fn with_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("id", value);
        self
    }
    pub fn with_body(
        mut self,
        body: std::collections::BTreeMap<String, serde_json::Value>,
    ) -> Self {
        self.builder = self.builder.json_body(body).expect("body serialization");
        self
    }
    pub async fn send(self) -> ApiResult<Operation> {
        self.builder.send().await
    }
}

/// Update block storage volume snapshot
/// # Example
/// ```no_run
/// use exoscale_public_api::{ ApiClient, apis::block_storage };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let _ = update_block_storage_snapshot(&api)
///     .with_id("value")
///     .send()
///     .await?;
/// ```
pub fn update_block_storage_snapshot(api: &ApiClient) -> UpdateBlockStorageSnapshotRequest<'_> {
    UpdateBlockStorageSnapshotRequest::new(api)
}

#[derive(Debug)]
pub struct SnapshotDeleteRequest<'a> {
    builder: ApiRequestBuilder<'a, Operation>,
}

impl<'a> SnapshotDeleteRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::DELETE, "block-storage-snapshot/{id}")
            .require_path("id");

        Self { builder }
    }
    pub fn with_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("id", value);
        self
    }
    pub async fn send(self) -> ApiResult<Operation> {
        self.builder.send().await
    }
}

/// Delete a block storage snapshot, data will be unrecoverable
/// # Example
/// ```no_run
/// use exoscale_public_api::{ ApiClient, apis::block_storage };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let _ = snapshot_delete(&api)
///     .with_id("value")
///     .send()
///     .await?;
/// ```
pub fn snapshot_delete(api: &ApiClient) -> SnapshotDeleteRequest<'_> {
    SnapshotDeleteRequest::new(api)
}

#[derive(Debug)]
pub struct VolumeRequest<'a> {
    builder: ApiRequestBuilder<'a, BlockStorageVolume>,
}

impl<'a> VolumeRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder =
            ApiRequestBuilder::new(api, Method::GET, "block-storage/{id}").require_path("id");

        Self { builder }
    }
    pub fn with_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("id", value);
        self
    }
    pub async fn send(self) -> ApiResult<BlockStorageVolume> {
        self.builder.send().await
    }
}

/// Retrieve block storage volume details
/// # Example
/// ```no_run
/// use exoscale_public_api::{ ApiClient, apis::block_storage };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let _ = volume(&api)
///     .with_id("value")
///     .send()
///     .await?;
/// ```
pub fn volume(api: &ApiClient) -> VolumeRequest<'_> {
    VolumeRequest::new(api)
}

#[derive(Debug)]
pub struct UpdateBlockStorageVolumeRequest<'a> {
    builder: ApiRequestBuilder<'a, Operation>,
}

impl<'a> UpdateBlockStorageVolumeRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::PUT, "block-storage/{id}")
            .require_path("id")
            .require_body();

        Self { builder }
    }
    pub fn with_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("id", value);
        self
    }
    pub fn with_body(
        mut self,
        body: std::collections::BTreeMap<String, serde_json::Value>,
    ) -> Self {
        self.builder = self.builder.json_body(body).expect("body serialization");
        self
    }
    pub async fn send(self) -> ApiResult<Operation> {
        self.builder.send().await
    }
}

/// Update block storage volume
/// # Example
/// ```no_run
/// use exoscale_public_api::{ ApiClient, apis::block_storage };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let _ = update_block_storage_volume(&api)
///     .with_id("value")
///     .send()
///     .await?;
/// ```
pub fn update_block_storage_volume(api: &ApiClient) -> UpdateBlockStorageVolumeRequest<'_> {
    UpdateBlockStorageVolumeRequest::new(api)
}

#[derive(Debug)]
pub struct VolumeDeleteRequest<'a> {
    builder: ApiRequestBuilder<'a, Operation>,
}

impl<'a> VolumeDeleteRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder =
            ApiRequestBuilder::new(api, Method::DELETE, "block-storage/{id}").require_path("id");

        Self { builder }
    }
    pub fn with_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("id", value);
        self
    }
    pub async fn send(self) -> ApiResult<Operation> {
        self.builder.send().await
    }
}

/// Delete a block storage volume, data will be unrecoverable
/// # Example
/// ```no_run
/// use exoscale_public_api::{ ApiClient, apis::block_storage };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let _ = volume_delete(&api)
///     .with_id("value")
///     .send()
///     .await?;
/// ```
pub fn volume_delete(api: &ApiClient) -> VolumeDeleteRequest<'_> {
    VolumeDeleteRequest::new(api)
}

#[derive(Debug)]
pub struct AttachBlockStorageVolumeRequest<'a> {
    builder: ApiRequestBuilder<'a, Operation>,
}

impl<'a> AttachBlockStorageVolumeRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::PUT, "block-storage/{id}:attach")
            .require_path("id")
            .require_body();

        Self { builder }
    }
    pub fn with_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("id", value);
        self
    }
    pub fn with_body(
        mut self,
        body: std::collections::BTreeMap<String, serde_json::Value>,
    ) -> Self {
        self.builder = self.builder.json_body(body).expect("body serialization");
        self
    }
    pub async fn send(self) -> ApiResult<Operation> {
        self.builder.send().await
    }
}

/// Attach block storage volume to an instance
/// # Example
/// ```no_run
/// use exoscale_public_api::{ ApiClient, apis::block_storage };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let _ = attach_block_storage_volume(&api)
///     .with_id("value")
///     .send()
///     .await?;
/// ```
pub fn attach_block_storage_volume(api: &ApiClient) -> AttachBlockStorageVolumeRequest<'_> {
    AttachBlockStorageVolumeRequest::new(api)
}

#[derive(Debug)]
pub struct CreateBlockStorageSnapshotRequest<'a> {
    builder: ApiRequestBuilder<'a, Operation>,
}

impl<'a> CreateBlockStorageSnapshotRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder =
            ApiRequestBuilder::new(api, Method::POST, "block-storage/{id}:create-snapshot")
                .require_path("id")
                .require_body();

        Self { builder }
    }
    pub fn with_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("id", value);
        self
    }
    pub fn with_body(
        mut self,
        body: std::collections::BTreeMap<String, serde_json::Value>,
    ) -> Self {
        self.builder = self.builder.json_body(body).expect("body serialization");
        self
    }
    pub async fn send(self) -> ApiResult<Operation> {
        self.builder.send().await
    }
}

/// Create a block storage snapshot
/// # Example
/// ```no_run
/// use exoscale_public_api::{ ApiClient, apis::block_storage };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let _ = create_block_storage_snapshot(&api)
///     .with_id("value")
///     .send()
///     .await?;
/// ```
pub fn create_block_storage_snapshot(api: &ApiClient) -> CreateBlockStorageSnapshotRequest<'_> {
    CreateBlockStorageSnapshotRequest::new(api)
}

#[derive(Debug)]
pub struct DetachBlockStorageVolumeRequest<'a> {
    builder: ApiRequestBuilder<'a, Operation>,
}

impl<'a> DetachBlockStorageVolumeRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::PUT, "block-storage/{id}:detach")
            .require_path("id");

        Self { builder }
    }
    pub fn with_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("id", value);
        self
    }
    pub async fn send(self) -> ApiResult<Operation> {
        self.builder.send().await
    }
}

/// Detach block storage volume
/// # Example
/// ```no_run
/// use exoscale_public_api::{ ApiClient, apis::block_storage };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let _ = detach_block_storage_volume(&api)
///     .with_id("value")
///     .send()
///     .await?;
/// ```
pub fn detach_block_storage_volume(api: &ApiClient) -> DetachBlockStorageVolumeRequest<'_> {
    DetachBlockStorageVolumeRequest::new(api)
}

#[derive(Debug)]
pub struct ResizeBlockStorageVolumeRequest<'a> {
    builder: ApiRequestBuilder<'a, BlockStorageVolume>,
}

impl<'a> ResizeBlockStorageVolumeRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::PUT, "block-storage/{id}:resize-volume")
            .require_path("id")
            .require_body();

        Self { builder }
    }
    pub fn with_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("id", value);
        self
    }
    pub fn with_body(
        mut self,
        body: std::collections::BTreeMap<String, serde_json::Value>,
    ) -> Self {
        self.builder = self.builder.json_body(body).expect("body serialization");
        self
    }
    pub async fn send(self) -> ApiResult<BlockStorageVolume> {
        self.builder.send().await
    }
}

/// Resize a block storage volume
/// # Example
/// ```no_run
/// use exoscale_public_api::{ ApiClient, apis::block_storage };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let _ = resize_block_storage_volume(&api)
///     .with_id("value")
///     .send()
///     .await?;
/// ```
pub fn resize_block_storage_volume(api: &ApiClient) -> ResizeBlockStorageVolumeRequest<'_> {
    ResizeBlockStorageVolumeRequest::new(api)
}
