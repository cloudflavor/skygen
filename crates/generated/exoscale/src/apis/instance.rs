// Auto-generated by codegen - Skygen
// https://cloudflavor.io/projects/skygen
//
// Copyright 2025 Cloudflavor GmbH
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

use crate::models::instance::Instance;
use crate::models::instance_password::InstancePassword;
use crate::models::operation::Operation;
use crate::{ApiClient, ApiRequestBuilder, ApiResult};
use reqwest::Method;

#[derive(Debug)]
pub struct ConsoleProxyUrlRequest<'a> {
    builder: ApiRequestBuilder<'a, std::collections::BTreeMap<String, serde_json::Value>>,
}

impl<'a> ConsoleProxyUrlRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::GET, "console/{id}").require_path("id");

        Self { builder }
    }
    pub fn with_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("id", value);
        self
    }
    pub async fn send(self) -> ApiResult<std::collections::BTreeMap<String, serde_json::Value>> {
        self.builder.send().await
    }
}
/// Retrieve signed url valid for 60 seconds to connect via console-proxy websocket to VM VNC console.
///
/// **HTTP Method:** `GET`
/// **Path:** `/console/{id}`
///
/// **Parameters**
/// - `id` (path, required)
///
/// # Example
/// ```no_run
/// use exoscale::{ ApiClient, apis::instance };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let response = console_proxy_url(&api)
///     .with_id("id")
///     .send()
///     .await?;
/// ```
pub fn console_proxy_url(api: &ApiClient) -> ConsoleProxyUrlRequest<'_> {
    ConsoleProxyUrlRequest::new(api)
}

#[derive(Debug)]
pub struct ListInstancesRequest<'a> {
    builder: ApiRequestBuilder<'a, std::collections::BTreeMap<String, serde_json::Value>>,
}

impl<'a> ListInstancesRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::GET, "instance");

        Self { builder }
    }
    pub fn with_manager_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("manager-id", value);
        self
    }
    pub fn with_manager_type(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("manager-type", value);
        self
    }
    pub fn with_ip_address(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.header_param("ip-address", value);
        self
    }
    pub async fn send(self) -> ApiResult<std::collections::BTreeMap<String, serde_json::Value>> {
        self.builder.send().await
    }
}
/// List Compute instances
///
/// **HTTP Method:** `GET`
/// **Path:** `/instance`
///
/// **Parameters**
/// - `manager-id` (query,optional)
/// - `manager-type` (query,optional)
/// - `ip-address` (query,optional)
///
/// # Example
/// ```no_run
/// use exoscale::{ ApiClient, apis::instance };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let response = list_instances(&api)
///     .with_manager_id("manager-id")
///     .with_manager_type("manager-type")
///     .with_ip_address("ip-address")
///     .send()
///     .await?;
/// ```
pub fn list_instances(api: &ApiClient) -> ListInstancesRequest<'_> {
    ListInstancesRequest::new(api)
}

#[derive(Debug)]
pub struct CreateInstanceRequest<'a> {
    builder: ApiRequestBuilder<'a, Operation>,
}

impl<'a> CreateInstanceRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::POST, "instance").require_body();

        Self { builder }
    }
    pub fn with_body(
        mut self,
        body: std::collections::BTreeMap<String, serde_json::Value>,
    ) -> Self {
        self.builder = self.builder.json_body(body).expect("body serialization");
        self
    }
    pub async fn send(self) -> ApiResult<Operation> {
        self.builder.send().await
    }
}
/// Create a Compute instance
///
/// **HTTP Method:** `POST`
/// **Path:** `/instance`
///
/// # Example
/// ```no_run
/// use exoscale::{ ApiClient, apis::instance };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// # let body: std::collections::BTreeMap<String, serde_json::Value> = todo!();
/// let response = create_instance(&api)
///     .with_body(body)
///     .send()
///     .await?;
/// ```
pub fn create_instance(api: &ApiClient) -> CreateInstanceRequest<'_> {
    CreateInstanceRequest::new(api)
}

#[derive(Debug)]
pub struct GetRequest<'a> {
    builder: ApiRequestBuilder<'a, Instance>,
}

impl<'a> GetRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::GET, "instance/{id}").require_path("id");

        Self { builder }
    }
    pub fn with_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("id", value);
        self
    }
    pub async fn send(self) -> ApiResult<Instance> {
        self.builder.send().await
    }
}
/// Retrieve Compute instance details
///
/// **HTTP Method:** `GET`
/// **Path:** `/instance/{id}`
///
/// **Parameters**
/// - `id` (path, required)
///
/// # Example
/// ```no_run
/// use exoscale::{ ApiClient, apis::instance };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let response = get(&api)
///     .with_id("id")
///     .send()
///     .await?;
/// ```
pub fn get(api: &ApiClient) -> GetRequest<'_> {
    GetRequest::new(api)
}

#[derive(Debug)]
pub struct UpdateInstanceRequest<'a> {
    builder: ApiRequestBuilder<'a, Operation>,
}

impl<'a> UpdateInstanceRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::PUT, "instance/{id}")
            .require_path("id")
            .require_body();

        Self { builder }
    }
    pub fn with_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("id", value);
        self
    }
    pub fn with_body(
        mut self,
        body: std::collections::BTreeMap<String, serde_json::Value>,
    ) -> Self {
        self.builder = self.builder.json_body(body).expect("body serialization");
        self
    }
    pub async fn send(self) -> ApiResult<Operation> {
        self.builder.send().await
    }
}
/// Update a Compute instance
///
/// **HTTP Method:** `PUT`
/// **Path:** `/instance/{id}`
///
/// **Parameters**
/// - `id` (path, required)
///
/// # Example
/// ```no_run
/// use exoscale::{ ApiClient, apis::instance };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// # let body: std::collections::BTreeMap<String, serde_json::Value> = todo!();
/// let response = update_instance(&api)
///     .with_id("id")
///     .with_body(body)
///     .send()
///     .await?;
/// ```
pub fn update_instance(api: &ApiClient) -> UpdateInstanceRequest<'_> {
    UpdateInstanceRequest::new(api)
}

#[derive(Debug)]
pub struct DeleteRequest<'a> {
    builder: ApiRequestBuilder<'a, Operation>,
}

impl<'a> DeleteRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder =
            ApiRequestBuilder::new(api, Method::DELETE, "instance/{id}").require_path("id");

        Self { builder }
    }
    pub fn with_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("id", value);
        self
    }
    pub async fn send(self) -> ApiResult<Operation> {
        self.builder.send().await
    }
}
/// Delete a Compute instance
///
/// **HTTP Method:** `DELETE`
/// **Path:** `/instance/{id}`
///
/// **Parameters**
/// - `id` (path, required)
///
/// # Example
/// ```no_run
/// use exoscale::{ ApiClient, apis::instance };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let response = delete(&api)
///     .with_id("id")
///     .send()
///     .await?;
/// ```
pub fn delete(api: &ApiClient) -> DeleteRequest<'_> {
    DeleteRequest::new(api)
}

#[derive(Debug)]
pub struct ResetInstanceFieldRequest<'a> {
    builder: ApiRequestBuilder<'a, Operation>,
}

impl<'a> ResetInstanceFieldRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::DELETE, "instance/{id}/{field}")
            .require_path("id")
            .require_path("field");

        Self { builder }
    }
    pub fn with_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("id", value);
        self
    }
    pub fn with_field(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("field", value);
        self
    }
    pub async fn send(self) -> ApiResult<Operation> {
        self.builder.send().await
    }
}
/// Reset Instance field
///
/// **HTTP Method:** `DELETE`
/// **Path:** `/instance/{id}/{field}`
///
/// **Parameters**
/// - `id` (path, required)
/// - `field` (path, required)
///
/// # Example
/// ```no_run
/// use exoscale::{ ApiClient, apis::instance };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let response = reset_instance_field(&api)
///     .with_id("id")
///     .with_field("field")
///     .send()
///     .await?;
/// ```
pub fn reset_instance_field(api: &ApiClient) -> ResetInstanceFieldRequest<'_> {
    ResetInstanceFieldRequest::new(api)
}

#[derive(Debug)]
pub struct AddInstanceProtectionRequest<'a> {
    builder: ApiRequestBuilder<'a, Operation>,
}

impl<'a> AddInstanceProtectionRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::PUT, "instance/{id}:add-protection")
            .require_path("id");

        Self { builder }
    }
    pub fn with_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("id", value);
        self
    }
    pub async fn send(self) -> ApiResult<Operation> {
        self.builder.send().await
    }
}
/// Set instance destruction protection
///
/// **HTTP Method:** `PUT`
/// **Path:** `/instance/{id}:add-protection`
///
/// **Parameters**
/// - `id` (path, required)
///
/// # Example
/// ```no_run
/// use exoscale::{ ApiClient, apis::instance };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let response = add_instance_protection(&api)
///     .with_id("id")
///     .send()
///     .await?;
/// ```
pub fn add_instance_protection(api: &ApiClient) -> AddInstanceProtectionRequest<'_> {
    AddInstanceProtectionRequest::new(api)
}

#[derive(Debug)]
pub struct CreateSnapshotRequest<'a> {
    builder: ApiRequestBuilder<'a, Operation>,
}

impl<'a> CreateSnapshotRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::POST, "instance/{id}:create-snapshot")
            .require_path("id");

        Self { builder }
    }
    pub fn with_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("id", value);
        self
    }
    pub async fn send(self) -> ApiResult<Operation> {
        self.builder.send().await
    }
}
/// Create a Snapshot of a Compute instance
///
/// **HTTP Method:** `POST`
/// **Path:** `/instance/{id}:create-snapshot`
///
/// **Parameters**
/// - `id` (path, required)
///
/// # Example
/// ```no_run
/// use exoscale::{ ApiClient, apis::instance };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let response = create_snapshot(&api)
///     .with_id("id")
///     .send()
///     .await?;
/// ```
pub fn create_snapshot(api: &ApiClient) -> CreateSnapshotRequest<'_> {
    CreateSnapshotRequest::new(api)
}

#[derive(Debug)]
pub struct EnableTpmRequest<'a> {
    builder: ApiRequestBuilder<'a, Operation>,
}

impl<'a> EnableTpmRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::POST, "instance/{id}:enable-tpm")
            .require_path("id");

        Self { builder }
    }
    pub fn with_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("id", value);
        self
    }
    pub async fn send(self) -> ApiResult<Operation> {
        self.builder.send().await
    }
}
/// Enable tpm for the instance.
///
/// **HTTP Method:** `POST`
/// **Path:** `/instance/{id}:enable-tpm`
///
/// **Parameters**
/// - `id` (path, required)
///
/// # Example
/// ```no_run
/// use exoscale::{ ApiClient, apis::instance };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let response = enable_tpm(&api)
///     .with_id("id")
///     .send()
///     .await?;
/// ```
pub fn enable_tpm(api: &ApiClient) -> EnableTpmRequest<'_> {
    EnableTpmRequest::new(api)
}

#[derive(Debug)]
pub struct RevealInstancePasswordRequest<'a> {
    builder: ApiRequestBuilder<'a, InstancePassword>,
}

impl<'a> RevealInstancePasswordRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder =
            ApiRequestBuilder::new(api, Method::GET, "instance/{id}:password").require_path("id");

        Self { builder }
    }
    pub fn with_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("id", value);
        self
    }
    pub async fn send(self) -> ApiResult<InstancePassword> {
        self.builder.send().await
    }
}
/// Reveal the password used during instance creation or the latest password reset.
///
/// Reveal the password used during instance creation or the latest password reset.
/// This is only available for VMs created against templates having the `password-enabled`
/// property set to `true`.
///
/// Passwords are transiently stored for at most 24 hours and intended to be retrieved shortly after
/// creation or resets.
///
/// **HTTP Method:** `GET`
/// **Path:** `/instance/{id}:password`
///
/// **Parameters**
/// - `id` (path, required)
///
/// # Example
/// ```no_run
/// use exoscale::{ ApiClient, apis::instance };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let response = reveal_instance_password(&api)
///     .with_id("id")
///     .send()
///     .await?;
/// ```
pub fn reveal_instance_password(api: &ApiClient) -> RevealInstancePasswordRequest<'_> {
    RevealInstancePasswordRequest::new(api)
}

#[derive(Debug)]
pub struct RebootInstanceRequest<'a> {
    builder: ApiRequestBuilder<'a, Operation>,
}

impl<'a> RebootInstanceRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder =
            ApiRequestBuilder::new(api, Method::PUT, "instance/{id}:reboot").require_path("id");

        Self { builder }
    }
    pub fn with_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("id", value);
        self
    }
    pub async fn send(self) -> ApiResult<Operation> {
        self.builder.send().await
    }
}
/// Reboot a Compute instance
///
/// **HTTP Method:** `PUT`
/// **Path:** `/instance/{id}:reboot`
///
/// **Parameters**
/// - `id` (path, required)
///
/// # Example
/// ```no_run
/// use exoscale::{ ApiClient, apis::instance };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let response = reboot_instance(&api)
///     .with_id("id")
///     .send()
///     .await?;
/// ```
pub fn reboot_instance(api: &ApiClient) -> RebootInstanceRequest<'_> {
    RebootInstanceRequest::new(api)
}

#[derive(Debug)]
pub struct RemoveInstanceProtectionRequest<'a> {
    builder: ApiRequestBuilder<'a, Operation>,
}

impl<'a> RemoveInstanceProtectionRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::PUT, "instance/{id}:remove-protection")
            .require_path("id");

        Self { builder }
    }
    pub fn with_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("id", value);
        self
    }
    pub async fn send(self) -> ApiResult<Operation> {
        self.builder.send().await
    }
}
/// Remove instance destruction protection
///
/// **HTTP Method:** `PUT`
/// **Path:** `/instance/{id}:remove-protection`
///
/// **Parameters**
/// - `id` (path, required)
///
/// # Example
/// ```no_run
/// use exoscale::{ ApiClient, apis::instance };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let response = remove_instance_protection(&api)
///     .with_id("id")
///     .send()
///     .await?;
/// ```
pub fn remove_instance_protection(api: &ApiClient) -> RemoveInstanceProtectionRequest<'_> {
    RemoveInstanceProtectionRequest::new(api)
}

#[derive(Debug)]
pub struct ResetInstanceRequest<'a> {
    builder: ApiRequestBuilder<'a, Operation>,
}

impl<'a> ResetInstanceRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::PUT, "instance/{id}:reset")
            .require_path("id")
            .require_body();

        Self { builder }
    }
    pub fn with_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("id", value);
        self
    }
    pub fn with_body(
        mut self,
        body: std::collections::BTreeMap<String, serde_json::Value>,
    ) -> Self {
        self.builder = self.builder.json_body(body).expect("body serialization");
        self
    }
    pub async fn send(self) -> ApiResult<Operation> {
        self.builder.send().await
    }
}
/// Reset a Compute instance to a base/target template
///
/// This operation re-installs a Compute instance to a base template. If target template is provided it will be used to recreated instance from. Warning: the operation wipes all data stored on the disk.
///
/// **HTTP Method:** `PUT`
/// **Path:** `/instance/{id}:reset`
///
/// **Parameters**
/// - `id` (path, required)
///
/// # Example
/// ```no_run
/// use exoscale::{ ApiClient, apis::instance };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// # let body: std::collections::BTreeMap<String, serde_json::Value> = todo!();
/// let response = reset_instance(&api)
///     .with_id("id")
///     .with_body(body)
///     .send()
///     .await?;
/// ```
pub fn reset_instance(api: &ApiClient) -> ResetInstanceRequest<'_> {
    ResetInstanceRequest::new(api)
}

#[derive(Debug)]
pub struct ResetInstancePasswordRequest<'a> {
    builder: ApiRequestBuilder<'a, Operation>,
}

impl<'a> ResetInstancePasswordRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::PUT, "instance/{id}:reset-password")
            .require_path("id");

        Self { builder }
    }
    pub fn with_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("id", value);
        self
    }
    pub async fn send(self) -> ApiResult<Operation> {
        self.builder.send().await
    }
}
/// Reset a compute instance password
///
/// **HTTP Method:** `PUT`
/// **Path:** `/instance/{id}:reset-password`
///
/// **Parameters**
/// - `id` (path, required)
///
/// # Example
/// ```no_run
/// use exoscale::{ ApiClient, apis::instance };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let response = reset_instance_password(&api)
///     .with_id("id")
///     .send()
///     .await?;
/// ```
pub fn reset_instance_password(api: &ApiClient) -> ResetInstancePasswordRequest<'_> {
    ResetInstancePasswordRequest::new(api)
}

#[derive(Debug)]
pub struct ResizeInstanceDiskRequest<'a> {
    builder: ApiRequestBuilder<'a, Operation>,
}

impl<'a> ResizeInstanceDiskRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::PUT, "instance/{id}:resize-disk")
            .require_path("id")
            .require_body();

        Self { builder }
    }
    pub fn with_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("id", value);
        self
    }
    pub fn with_body(
        mut self,
        body: std::collections::BTreeMap<String, serde_json::Value>,
    ) -> Self {
        self.builder = self.builder.json_body(body).expect("body serialization");
        self
    }
    pub async fn send(self) -> ApiResult<Operation> {
        self.builder.send().await
    }
}
/// Resize a Compute instance disk
///
/// This operation resizes a Compute instance's disk volume. Note: the disk can only grow, cannot be shrunk.
///
/// **HTTP Method:** `PUT`
/// **Path:** `/instance/{id}:resize-disk`
///
/// **Parameters**
/// - `id` (path, required)
///
/// # Example
/// ```no_run
/// use exoscale::{ ApiClient, apis::instance };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// # let body: std::collections::BTreeMap<String, serde_json::Value> = todo!();
/// let response = resize_instance_disk(&api)
///     .with_id("id")
///     .with_body(body)
///     .send()
///     .await?;
/// ```
pub fn resize_instance_disk(api: &ApiClient) -> ResizeInstanceDiskRequest<'_> {
    ResizeInstanceDiskRequest::new(api)
}

#[derive(Debug)]
pub struct ScaleInstanceRequest<'a> {
    builder: ApiRequestBuilder<'a, Operation>,
}

impl<'a> ScaleInstanceRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::PUT, "instance/{id}:scale")
            .require_path("id")
            .require_body();

        Self { builder }
    }
    pub fn with_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("id", value);
        self
    }
    pub fn with_body(
        mut self,
        body: std::collections::BTreeMap<String, serde_json::Value>,
    ) -> Self {
        self.builder = self.builder.json_body(body).expect("body serialization");
        self
    }
    pub async fn send(self) -> ApiResult<Operation> {
        self.builder.send().await
    }
}
/// Scale a Compute instance to a new Instance Type
///
/// This operation changes the Compute instance's type. Note: the new Instance Type must be within the same family (e.g. a standard instance cannot be scaled to gpu2 or storage).
///
/// **HTTP Method:** `PUT`
/// **Path:** `/instance/{id}:scale`
///
/// **Parameters**
/// - `id` (path, required)
///
/// # Example
/// ```no_run
/// use exoscale::{ ApiClient, apis::instance };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// # let body: std::collections::BTreeMap<String, serde_json::Value> = todo!();
/// let response = scale_instance(&api)
///     .with_id("id")
///     .with_body(body)
///     .send()
///     .await?;
/// ```
pub fn scale_instance(api: &ApiClient) -> ScaleInstanceRequest<'_> {
    ScaleInstanceRequest::new(api)
}

#[derive(Debug)]
pub struct StartInstanceRequest<'a> {
    builder: ApiRequestBuilder<'a, Operation>,
}

impl<'a> StartInstanceRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder = ApiRequestBuilder::new(api, Method::PUT, "instance/{id}:start")
            .require_path("id")
            .require_body();

        Self { builder }
    }
    pub fn with_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("id", value);
        self
    }
    pub fn with_body(
        mut self,
        body: std::collections::BTreeMap<String, serde_json::Value>,
    ) -> Self {
        self.builder = self.builder.json_body(body).expect("body serialization");
        self
    }
    pub async fn send(self) -> ApiResult<Operation> {
        self.builder.send().await
    }
}
/// Start a Compute instance
///
/// This operation starts a virtual machine, potentially using a rescue profile if specified
///
/// **HTTP Method:** `PUT`
/// **Path:** `/instance/{id}:start`
///
/// **Parameters**
/// - `id` (path, required)
///
/// # Example
/// ```no_run
/// use exoscale::{ ApiClient, apis::instance };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// # let body: std::collections::BTreeMap<String, serde_json::Value> = todo!();
/// let response = start_instance(&api)
///     .with_id("id")
///     .with_body(body)
///     .send()
///     .await?;
/// ```
pub fn start_instance(api: &ApiClient) -> StartInstanceRequest<'_> {
    StartInstanceRequest::new(api)
}

#[derive(Debug)]
pub struct StopInstanceRequest<'a> {
    builder: ApiRequestBuilder<'a, Operation>,
}

impl<'a> StopInstanceRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder =
            ApiRequestBuilder::new(api, Method::PUT, "instance/{id}:stop").require_path("id");

        Self { builder }
    }
    pub fn with_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("id", value);
        self
    }
    pub async fn send(self) -> ApiResult<Operation> {
        self.builder.send().await
    }
}
/// Stop a Compute instance
///
/// **HTTP Method:** `PUT`
/// **Path:** `/instance/{id}:stop`
///
/// **Parameters**
/// - `id` (path, required)
///
/// # Example
/// ```no_run
/// use exoscale::{ ApiClient, apis::instance };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// let response = stop_instance(&api)
///     .with_id("id")
///     .send()
///     .await?;
/// ```
pub fn stop_instance(api: &ApiClient) -> StopInstanceRequest<'_> {
    StopInstanceRequest::new(api)
}

#[derive(Debug)]
pub struct RevertInstanceSnapshotRequest<'a> {
    builder: ApiRequestBuilder<'a, Operation>,
}

impl<'a> RevertInstanceSnapshotRequest<'a> {
    pub fn new(api: &'a ApiClient) -> Self {
        let builder =
            ApiRequestBuilder::new(api, Method::POST, "instance/{instance-id}:revert-snapshot")
                .require_path("instance-id")
                .require_body();

        Self { builder }
    }
    pub fn with_instance_id(mut self, value: impl Into<String>) -> Self {
        self.builder = self.builder.path_param("instance-id", value);
        self
    }
    pub fn with_body(
        mut self,
        body: std::collections::BTreeMap<String, serde_json::Value>,
    ) -> Self {
        self.builder = self.builder.json_body(body).expect("body serialization");
        self
    }
    pub async fn send(self) -> ApiResult<Operation> {
        self.builder.send().await
    }
}
/// Revert a snapshot for an instance
///
/// This operation reverts the snapshot to the Compute instance volume, restoring stored data as it was at the time of the snapshot.
/// The Compute instance must be previously stopped.
///
/// **HTTP Method:** `POST`
/// **Path:** `/instance/{instance-id}:revert-snapshot`
///
/// **Parameters**
/// - `instance-id` (path, required)
///
/// # Example
/// ```no_run
/// use exoscale::{ ApiClient, apis::instance };
/// let api = ApiClient::builder("https://api.example.com").build().expect("client");
/// # let body: std::collections::BTreeMap<String, serde_json::Value> = todo!();
/// let response = revert_instance_snapshot(&api)
///     .with_instance_id("instance-id")
///     .with_body(body)
///     .send()
///     .await?;
/// ```
pub fn revert_instance_snapshot(api: &ApiClient) -> RevertInstanceSnapshotRequest<'_> {
    RevertInstanceSnapshotRequest::new(api)
}
